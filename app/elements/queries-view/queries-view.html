<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../styles/shared-styles.html">

<dom-module id="queries-view">
  <template>
    <style is="custom-style" include="shared-styles">
      :host {
        display: block;
      }
      bridgeit-query-list {
        --query-list-wrapper: {
          padding:10px 0 10px 0;
          background-color: transparent;
        };
        --query-list-button: {
          font: inherit;
          background-color:#F9F9F9;
          border-color: transparent;
          color:black;
          outline: none;
          box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
          text-transform: uppercase;
          cursor:pointer;
        };
      }
      bridgeit-query-results {
        --query-results-table: {
          width: 100%;
          margin-bottom: 50px;
        };
      }
      .buttons {
        text-align: center;
        background-color: transparent;
        padding:10px 0 10px 0;
      }
      .buttons button {
        font: inherit;
        background-color:#F9F9F9;
        border-color: transparent;
        color:black;
        outline: none;
        box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
        text-transform: uppercase;
        cursor:pointer;
      }
    </style>
    <h2 class="page-title">Queries</h2>
    <template is="dom-if" if="{{visible}}">
      <bridgeit-query-list for="queries"></bridgeit-query-list>
      <div class="buttons">
        <button onclick="document.getElementById('queries').resetEditor();">New/Reset</button>
        <button onclick="document.getElementById('queries').runQuery();">Run</button>
        <button onclick="document.getElementById('queries').saveQueryWithPrompt();">Save</button>
        <button onclick="document.getElementById('queries').cloneQueryWithPrompt();">Clone</button>
        <button onclick="document.getElementById('queries').deleteQuery();">Delete</button>
      </div>
      <bridgeit-query-editor id="queries" service="authadmin"></bridgeit-query-editor>
      <bridgeit-query-results for="queries"></bridgeit-query-results>
    </template>
  </template>
  <script>
    (function() {
      'use strict';

      Polymer({
        is: 'queries-view',

        properties: {
          visible: {
            type: Boolean,
            notify: true
          }
        }
      });
    })();
  </script>
</dom-module>
